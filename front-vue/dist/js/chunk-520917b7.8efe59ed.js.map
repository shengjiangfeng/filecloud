{"version":3,"sources":["webpack:///./src/views/FileShared.vue?83bd","webpack:///src/views/FileShared.vue","webpack:///./src/views/FileShared.vue?d905","webpack:///./src/views/FileShared.vue?e776","webpack:///./src/assets/logo.png","webpack:///./src/views/FileShared.vue?57c4"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","sharedChecked","attrs","showDownload","on","handleDownload","_v","staticStyle","_s","sharedInfo","name","showCreateTime","showDeadline","navs","length","$event","goback","goto","_l","v","i","key","_e","columns","tableData","record","index","selectedRowKeys","onChange","onSelectChange","customRowFunc","scopedSlots","_u","fn","text","gonext","opacity","background","model","value","callback","$$v","sharedModalToken","expression","type","indexOf","_k","keyCode","handleSharedInfo","apply","arguments","sharedModalValue","directives","rawName","sharedTokenCheckText","staticRenderFns","data","title","dataIndex","width","customRender","selectedNames","sharedToken","sharedKey","sharedTokenCheckFailed","mounted","$route","params","get","then","catch","storage","methods","selectedRows","names","props","click","dblclick","contextmenu","mouseenter","mouseleave","getList","path","sharedPath","a","filename","b","pop","dir","push","splice","end","to","start","unix","createTime","format","sharedDownload","downloadElement","document","createElement","href","window","URL","createObjectURL","blob","idx","component","module","exports"],"mappings":"gJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAAGN,EAAIO,cAAyBH,EAAG,MAAM,CAACA,EAAG,MAAM,CAACI,MAAM,CAAC,GAAK,WAAW,CAACJ,EAAG,MAAM,CAACI,MAAM,CAAC,GAAK,iBAAiB,CAAGR,EAAIS,eAAiN,CAACL,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,UAAU,KAAO,WAAW,MAAQ,SAASE,GAAG,CAAC,MAAQV,EAAIW,iBAAiB,CAACX,EAAIY,GAAG,SAArT,CAACR,EAAG,SAAS,CAACS,YAAY,CAAC,YAAY,QAAQL,MAAM,CAAC,KAAO,WAAW,MAAQ,aAAaR,EAAIY,GAAG,OAAOR,EAAG,OAAO,CAACS,YAAY,CAAC,YAAY,SAAS,CAACb,EAAIY,GAAGZ,EAAIc,GAAGb,KAAKc,WAAWC,WAAwI,GAAGZ,EAAG,MAAM,CAACI,MAAM,CAAC,GAAK,gBAAgB,CAACJ,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,kBAAkBR,EAAIY,GAAG,KAAKR,EAAG,OAAO,CAACJ,EAAIY,GAAGZ,EAAIc,GAAGd,EAAIiB,qBAAqBjB,EAAIY,GAAG,QAAQR,EAAG,OAAO,CAACJ,EAAIY,GAAG,QAAQZ,EAAIc,GAAGd,EAAIkB,gBAAgB,QAAQ,KAAKd,EAAG,MAAM,CAACE,YAAY,QAAQ,CAAsB,IAApBN,EAAImB,KAAKC,OAAc,CAACpB,EAAIY,GAAG,WAAW,CAACR,EAAG,IAAI,CAACI,MAAM,CAAC,KAAO,gBAAgBE,GAAG,CAAC,MAAQ,SAASW,GAAQ,OAAOrB,EAAIsB,YAAY,CAACtB,EAAIY,GAAG,WAAWR,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,cAAcJ,EAAG,IAAI,CAACI,MAAM,CAAC,KAAO,gBAAgBE,GAAG,CAAC,MAAQ,SAASW,GAAQ,OAAOrB,EAAIuB,KAAK,MAAM,CAACvB,EAAIY,GAAG,UAAUZ,EAAIwB,GAAIxB,EAAQ,MAAE,SAASyB,EAAEC,GAAG,MAAO,CAAQ,IAANA,EAAS,CAAEA,IAAM1B,EAAImB,KAAKC,OAAO,EAAG,CAACpB,EAAIY,GAAG,QAAQZ,EAAIc,GAAGW,GAAG,MAAM,CAACzB,EAAIY,GAAG,SAASR,EAAG,IAAI,CAACuB,IAAID,EAAElB,MAAM,CAAC,KAAO,gBAAgBE,GAAG,CAAC,MAAQ,SAASW,GAAQ,OAAOrB,EAAIuB,KAAKG,MAAM,CAAC1B,EAAIY,GAAGZ,EAAIc,GAAGW,QAAQzB,EAAI4B,WAAU,GAAGxB,EAAG,UAAU,CAACI,MAAM,CAAC,QAAUR,EAAI6B,QAAQ,cAAc7B,EAAI8B,UAAU,YAAa,EAAM,OAAS,SAAUC,EAAOC,GAAS,OAAOA,GAAS,gBAAgB,CAACC,gBAAgBjC,EAAIiC,gBAAgBC,SAASlC,EAAImC,gBAAgB,UAAYnC,EAAIoC,eAAeC,YAAYrC,EAAIsC,GAAG,CAAC,CAACX,IAAI,OAAOY,GAAG,SAASC,EAAMT,GAAQ,MAAO,CAAEA,EAAY,MAAE3B,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,YAAYJ,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,UAAUR,EAAIY,GAAG,QAASmB,EAAY,MAAE3B,EAAG,IAAI,CAACI,MAAM,CAAC,KAAO,gBAAgBE,GAAG,CAAC,MAAQ,SAASW,GAAQ,OAAOrB,EAAIyC,OAAOD,MAAS,CAACxC,EAAIY,GAAGZ,EAAIc,GAAG0B,MAASpC,EAAG,OAAO,CAACJ,EAAIY,GAAGZ,EAAIc,GAAG0B,cAAiB,GAAt0DpC,EAAG,OAAs0DA,EAAG,UAAU,CAACI,MAAM,CAAC,MAAQ,QAAQ,SAAW,GAAG,UAAY,CAACkC,QAAQ,EAAEC,WAAW,WAAW,cAAe,EAAM,UAAW,EAAM,OAAS,IAAIC,MAAM,CAACC,MAAO7C,EAAoB,iBAAE8C,SAAS,SAAUC,GAAM/C,EAAIgD,iBAAiBD,GAAKE,WAAW,qBAAqB,CAAC7C,EAAG,MAAM,CAACS,YAAY,CAAC,OAAS,UAAU,CAACT,EAAG,MAAM,CAACS,YAAY,CAAC,OAAS,OAAO,cAAc,OAAO,aAAa,SAAS,gBAAgB,sBAAsB,CAACT,EAAG,MAAM,CAACS,YAAY,CAAC,MAAQ,OAAO,OAAS,QAAQL,MAAM,CAAC,IAAM,EAAQ,QAAqB,IAAM,UAAUR,EAAIY,GAAG,MAAMR,EAAG,OAAO,CAACS,YAAY,CAAC,YAAY,OAAO,cAAc,QAAQ,CAACb,EAAIY,GAAG,YAAYR,EAAG,IAAI,CAACS,YAAY,CAAC,YAAY,OAAO,aAAa,SAAS,CAACb,EAAIY,GAAG,aAAaR,EAAG,UAAU,CAACS,YAAY,CAAC,MAAQ,SAASL,MAAM,CAAC,KAAO,SAASE,GAAG,CAAC,MAAQ,SAASW,GAAQ,OAAIA,EAAO6B,KAAKC,QAAQ,QAAQnD,EAAIoD,GAAG/B,EAAOgC,QAAQ,QAAQ,GAAGhC,EAAOM,IAAI,SAAkB,KAAc3B,EAAIsD,iBAAiBC,MAAM,KAAMC,aAAaZ,MAAM,CAACC,MAAO7C,EAAoB,iBAAE8C,SAAS,SAAUC,GAAM/C,EAAIyD,iBAAiBV,GAAKE,WAAW,sBAAsBjD,EAAIY,GAAG,MAAMR,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,UAAU,KAAO,SAASE,GAAG,CAAC,MAAQV,EAAIsD,mBAAmB,CAACtD,EAAIY,GAAG,UAAUR,EAAG,IAAI,CAACsD,WAAW,CAAC,CAAC1C,KAAK,OAAO2C,QAAQ,SAASd,MAAO5C,KAA2B,uBAAEgD,WAAW,gCAAgCpC,YAAY,CAAC,MAAQ,UAAU,YAAY,SAAS,CAACb,EAAIY,GAAGZ,EAAIc,GAAGd,EAAI4D,0BAA0B,MAAM,IACj4GC,EAAkB,G,oJC0FP,GACb7C,KAAMA,aACN8C,KAFF,WAGI,MAAO,CACLjC,QAANA,CACA,CAAQkC,MAARA,MAAQC,UAARA,WAAQC,MAARA,MAAQ5B,YAARA,CAAA6B,sBACA,CAAQH,MAARA,KAAQC,UAARA,OAAQC,MAARA,OACA,CAAQF,MAARA,OAAQC,UAARA,SAEM/B,gBAANA,GACMkC,cAANA,GAEM5D,eAANA,EACM6D,YAANA,GACMC,UAANA,GACMtD,WAANA,GAEMI,KAANA,GACMW,UAANA,GAEMkB,kBAANA,EACMS,iBAANA,GACMa,wBAANA,EACMV,qBAANA,KAGEW,QA1BF,WA0BA,WAKI,GAHAtE,KAAKoE,UAAYpE,KAAKuE,OAAOC,OAAO9C,IACpC1B,KAAKmE,YAAc,IAAQM,IAAIzE,KAAKoE,WAEhCpE,KAAKmE,YAAb,CACM,IAAN,GAAAzC,mBAAAyC,8BACMrD,eAAWA,GACjB4D,MAAA,YACQ,EAAR,aACQ,EAAR,kBACQ,EAAR,kBACQ,EAAR,oBAEAC,OAAA,WACQC,IAAQA,OAAOA,EAARA,WACP,EAAR,4BAGM5E,KAAK+C,kBAAmB,GAG5B8B,QAAFA,CACI3C,eADJ,SACAF,EAAA8C,GAEM9E,KAAKgC,gBAAkBA,EACvB,IAHN,EAGA,KAHA,iBAIA8C,GAJA,IAIA,0CACAC,oBALA,8BAOM/E,KAAKkE,cAAgBa,GAEvB5C,cAVJ,SAUAL,EAAAC,GAAA,WACM,MAAO,CACLiD,MAAOA,GACPvE,GAAIA,CACFwE,MAAOA,WAML,IAAZ,gCACA,IAAgB,GACF,EAAd,wBACc,EAAd,iCAEc,EAAd,4BACc,EAAd,4BAKUC,SAAUA,aACVC,YAAaA,aACbC,WAAYA,aACZC,WAAYA,gBAKlBC,QAvCJ,SAuCAC,GAAA,WACMC,eAAWA,CAAjBD,OAAA7D,mBAAAyC,+BAAA,kBACQ,EAAR,mBACQ,EAAR,iBACQ,EAAR,kBAEQ,EAAR,8BACU,OAAV,kBAEA,kBACmBsB,EAAEC,SAAWC,EAAED,SAFf,GAID,SAKdrE,OAxDJ,WAyDM,GAAIrB,KAAKkB,KAAKC,OAAS,EAAG,CACxBnB,KAAKkB,KAAK0E,MACV,IAAR,sBACQ5F,KAAKsF,QAAQC,KAGjB/C,OA/DJ,SA+DAqD,GACM,GAAY,KAARA,EAAV,CACQ7F,KAAKkB,KAAK4E,KAAKD,GACf,IAAR,sBACQ7F,KAAKsF,QAAQC,KAGjBjE,KAtEJ,SAsEAS,GACM,GAAIA,GAAS,GAAKA,EAAQ/B,KAAKkB,KAAKC,OAA1C,CACQnB,KAAKkB,KAAK6E,OAAOhE,EAAzB,GACQ,IAAR,sBACQ/B,KAAKsF,QAAQC,KAGjBtE,aA7EJ,WA8EM,IAAN,uCACA,qCACM,OAAO+E,EAAIC,GAAGC,GAApB,IAEIlF,eAlFJ,WAmFM,OAAO,IAAOmF,KAAKnG,KAAKc,WAAWsF,YAAYC,OAAO,wBAExDhD,iBArFJ,WAqFA,WACA,GAAA3B,mBAAAyC,mCACMrD,eAAWA,GACjB4D,MAAA,YAEQ,EAAR,oBACQ,EAAR,0BACQE,IAAQA,IAAIA,EAALA,+BACP,EAAR,aACQ,EAAR,kBACQ,EAAR,kBACQ,EAAR,oBAEAD,OAAA,YACQ,EAAR,0BACQ,EAAR,wCAGInE,aAvGJ,WAwGM,GAAIR,KAAKgC,gBAAgBb,OAAS,EAAxC,wBACA,sBADA,IACA,0CACA,2BACA,UAHA,8BAMQ,OAAO,EAET,OAAO,GAETT,eAlHJ,WAkHA,WACM,GAAIV,KAAKQ,eAAf,kBAEU,IAAV,qBACA,GAAAkB,gBAAAyC,0BAAAoB,sBAAAG,YACUY,eAAeA,GAAMA,MAAKA,SAAZA,GAEZ,IAAZ,qBAEgBC,EAAkBC,SAASC,cAAc,KACzCC,EAAOC,OAAOC,IAAIC,gBAAgBC,GACtCP,EAAgBA,KAAOA,EACvBA,EAAgBA,SAAWA,mBAAmBA,GAC9CC,SAASA,KAAKA,YAAYA,GAC1BD,EAAgBA,QAChBC,SAASA,KAAKA,YAAYA,GAC1BG,OAAOA,IAAIA,gBAAgBA,OAd/B,IAAK,IAAII,KAAO/G,KAAKkE,cAA7B,QC/PoV,I,wBCQhV8C,EAAY,eACd,EACAlH,EACA8D,GACA,EACA,KACA,KACA,MAIa,aAAAoD,E,8BCnBfC,EAAOC,QAAU,IAA0B,yB,kCCA3C","file":"js/chunk-520917b7.8efe59ed.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"body\"},[(!_vm.sharedChecked)?_c('div'):_c('div',[_c('div',{attrs:{\"id\":\"header\"}},[_c('div',{attrs:{\"id\":\"header-title\"}},[(!_vm.showDownload())?[_c('a-icon',{staticStyle:{\"font-size\":\"20px\"},attrs:{\"type\":\"appstore\",\"theme\":\"twoTone\"}}),_vm._v(\"   \"),_c('span',{staticStyle:{\"font-size\":\"20px\"}},[_vm._v(_vm._s(this.sharedInfo.name))])]:[_c('a-button',{attrs:{\"type\":\"primary\",\"icon\":\"download\",\"shape\":\"round\"},on:{\"click\":_vm.handleDownload}},[_vm._v(\"下载\")])]],2),_c('div',{attrs:{\"id\":\"header-time\"}},[_c('a-icon',{attrs:{\"type\":\"clock-circle\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.showCreateTime()))]),_vm._v(\"    \"),_c('span',[_vm._v(\"过期时间：\"+_vm._s(_vm.showDeadline())+\"后\")])],1)]),_c('div',{staticClass:\"path\"},[(_vm.navs.length === 1)?[_vm._v(\" 全部文件 \")]:[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.goback()}}},[_vm._v(\"返回上一级\")]),_c('a-divider',{attrs:{\"type\":\"vertical\"}}),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.goto(0)}}},[_vm._v(\"全部文件\")]),_vm._l((_vm.navs),function(v,i){return [(i !== 0)?[(i === _vm.navs.length-1)?[_vm._v(\"  >  \"+_vm._s(v)+\" \")]:[_vm._v(\"  >  \"),_c('a',{key:i,attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.goto(i)}}},[_vm._v(_vm._s(v))])]]:_vm._e()]})]],2),_c('a-table',{attrs:{\"columns\":_vm.columns,\"data-source\":_vm.tableData,\"pagination\":false,\"rowKey\":function (record,index) { return index; },\"row-selection\":{selectedRowKeys:_vm.selectedRowKeys,onChange:_vm.onSelectChange},\"customRow\":_vm.customRowFunc},scopedSlots:_vm._u([{key:\"name\",fn:function(text, record){return [(record.isDir)?_c('a-icon',{attrs:{\"type\":\"folder\"}}):_c('a-icon',{attrs:{\"type\":\"file\"}}),_vm._v(\"    \"),(record.isDir)?_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.gonext(text)}}},[_vm._v(_vm._s(text))]):_c('span',[_vm._v(_vm._s(text))])]}}])})],1),_c('a-modal',{attrs:{\"width\":\"500px\",\"centered\":\"\",\"maskStyle\":{opacity:1,background:'#FCFCFC'},\"maskClosable\":false,\"closable\":false,\"footer\":\"\"},model:{value:(_vm.sharedModalToken),callback:function ($$v) {_vm.sharedModalToken=$$v},expression:\"sharedModalToken\"}},[_c('div',{staticStyle:{\"height\":\"240px\"}},[_c('div',{staticStyle:{\"height\":\"50px\",\"line-height\":\"36px\",\"text-align\":\"center\",\"border-bottom\":\"2px solid #F0F0F0\"}},[_c('img',{staticStyle:{\"width\":\"28px\",\"height\":\"28px\"},attrs:{\"src\":require(\"@/assets/logo.png\"),\"alt\":\"logo\"}}),_vm._v(\"  \"),_c('span',{staticStyle:{\"font-size\":\"24px\",\"font-weight\":\"600\"}},[_vm._v(\"个人云盘\")])]),_c('p',{staticStyle:{\"font-size\":\"16px\",\"margin-top\":\"40px\"}},[_vm._v(\"请输入提取码：\")]),_c('a-input',{staticStyle:{\"width\":\"320px\"},attrs:{\"size\":\"large\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleSharedInfo.apply(null, arguments)}},model:{value:(_vm.sharedModalValue),callback:function ($$v) {_vm.sharedModalValue=$$v},expression:\"sharedModalValue\"}}),_vm._v(\"  \"),_c('a-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":_vm.handleSharedInfo}},[_vm._v(\"提取文件\")]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.sharedTokenCheckFailed),expression:\"this.sharedTokenCheckFailed\"}],staticStyle:{\"color\":\"#FF5151\",\"font-size\":\"12px\"}},[_vm._v(_vm._s(_vm.sharedTokenCheckText))])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"body\">\n    <div v-if=\"!sharedChecked\"></div>\n    <div v-else>\n    <div id=\"header\">\n      <div id=\"header-title\">\n        <template v-if=\"!showDownload()\">\n          <a-icon type=\"appstore\" theme=\"twoTone\" style=\"font-size:20px;\"/> &nbsp; <span style=\"font-size:20px;\">{{this.sharedInfo.name}}</span>\n        </template>\n        <template v-else>\n          <a-button type=\"primary\" icon=\"download\" shape=\"round\" @click=\"handleDownload\">下载</a-button>\n        </template> \n      </div>\n      <div id=\"header-time\">\n        <a-icon type=\"clock-circle\" /> <span>{{showCreateTime()}}</span> &nbsp;&nbsp; <span>过期时间：{{showDeadline()}}后</span> \n      </div>\n    </div>\n\n    <div class=\"path\">\n      <template v-if=\"navs.length === 1\">\n        全部文件\n      </template>\n      <template v-else>\n        <a href=\"javascript:;\" @click=\"goback()\">返回上一级</a>\n        <a-divider type=\"vertical\" />\n        <a href=\"javascript:;\" @click=\"goto(0)\">全部文件</a>\n        <template v-for=\"(v,i) of navs\">\n          <template v-if=\"i !== 0\">\n            <template v-if=\"i === navs.length-1\">\n              &nbsp;>&nbsp; {{v}}\n            </template>\n            <template v-else>\n              &nbsp;>&nbsp; <a href=\"javascript:;\" @click=\"goto(i)\" :key=i>{{v}}</a>\n            </template>\n          </template>\n        </template>\n      </template>\n    </div>\n\n    <a-table \n    :columns=\"columns\" \n    :data-source=\"tableData\"\n    :pagination=\"false\"\n    :rowKey=\"(record,index) => index\"\n    :row-selection=\"{selectedRowKeys:selectedRowKeys,onChange:onSelectChange}\"\n    :customRow=\"customRowFunc\"\n    >\n      <template slot=\"name\" slot-scope=\"text, record\">\n        <a-icon type=\"folder\" v-if=\"record.isDir\"/>\n        <a-icon type=\"file\" v-else/>\n        &nbsp;&nbsp;\n          <a v-if=\"record.isDir\" href=\"javascript:;\" @click=\"gonext(text)\">{{text}}</a>\n          <span v-else>{{text}}</span>\n      </template>\n    </a-table>\n    </div>\n\n    <!-- token -->\n    <a-modal \n    v-model=\"sharedModalToken\" \n    width=\"500px\"\n    centered\n    :maskStyle=\"{opacity:1,background:'#FCFCFC'}\"\n    :maskClosable=\"false\"\n    :closable=\"false\"\n    footer=\"\"\n    >\n      <div style=\"height:240px\">\n        <div style=\"height:50px;line-height:36px;text-align:center;border-bottom: 2px solid #F0F0F0;\">\n          <img src=\"@/assets/logo.png\" alt=\"logo\" style=\"width:28px;height:28px;\">&nbsp;\n          <span style=\"font-size:24px;font-weight: 600;\">个人云盘</span>\n        </div>\n        <p style=\"font-size:16px;margin-top:40px\">请输入提取码：</p>\n        <a-input v-model=\"sharedModalValue\" style=\"width:320px\" size=\"large\" @keyup.enter=\"handleSharedInfo\"></a-input>&nbsp;\n        <a-button type=\"primary\" size=\"large\" @click=\"handleSharedInfo\">提取文件</a-button>\n        <p v-show=\"this.sharedTokenCheckFailed\" style=\"color:\t#FF5151;font-size:12px\">{{sharedTokenCheckText}}</p>\n\n      </div>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nimport {\nsharedInfo,\nsharedPath,\nsharedDownload,\n} from \"@/api/api\"\nimport moment from 'moment'\nimport  storage from 'store'\n\nexport default {\n  name: 'fileshared',\n  data () {\n    return {\n      columns:[\n        {title:'文件名',dataIndex: 'filename',width:'50%',scopedSlots: { customRender: 'name' }},\n        {title:'大小',dataIndex: 'size',width:'20%',},\n        {title:'修改时间',dataIndex: 'date'},\n      ],\n      selectedRowKeys:[],\n      selectedNames:[],\n\n      sharedChecked:false,\n      sharedToken:\"\",\n      sharedKey:\"\",\n      sharedInfo:{},\n\n      navs :[],\n      tableData:[],\n\n      sharedModalToken:false,\n      sharedModalValue:\"\",\n      sharedTokenCheckFailed:false,\n      sharedTokenCheckText:\"\",\n    }\n  },\n  mounted () {\n    //console.log(this.$route);\n    this.sharedKey = this.$route.params.key\n    this.sharedToken = storage.get(this.sharedKey)\n    \n    if (this.sharedToken){\n      const args = {key:this.sharedKey,sharedToken:this.sharedToken}\n      sharedInfo(args)\n      .then((ret) => {\n        this.sharedInfo = ret\n        this.tableData = ret.items\n        this.navs.push(ret.root)\n        this.sharedChecked = true\n      })\n      .catch(()=>{\n        storage.remove(this.sharedKey)\n        this.sharedModalToken = true\n      })\n    }else{\n      this.sharedModalToken = true\n    }\n  },\n  methods:{\n    onSelectChange (selectedRowKeys, selectedRows)  {\n      //console.log(selectedRowKeys, selectedRows);\n      this.selectedRowKeys = selectedRowKeys\n      let names = [];\n      for (let v of selectedRows){\n        names.push(v.filename)\n      }\n      this.selectedNames = names;\n    },\n    customRowFunc(record,index){\n      return {\n        props: {},\n        on: { // 事件\n          click: () => {\n            //console.log(event);\n            // if (event.target.localName === 'a'){\n            //   // 阻止事件\n            //   return\n            // }\n            let selectedIdx = this.selectedRowKeys.indexOf(index)\n            if ( selectedIdx === -1 ){\n              this.selectedRowKeys.push(index)\n              this.selectedNames.push(record.filename)\n            }else{\n              this.selectedRowKeys.splice(selectedIdx,1)\n              this.selectedNames.splice(selectedIdx,1)\n            }\n            //console.log(selectedIdx ,this.selectedRowKeys );\n            \n          },       // 点击行\n          dblclick: () => {},\n          contextmenu: () => {},\n          mouseenter: () => {},  // 鼠标移入行\n          mouseleave: () => {}\n        },\n\n      };\n    },\n    getList(path){\n      sharedPath({path:path,key:this.sharedKey,sharedToken:this.sharedToken}).then(res => {\n        this.selectedRowKeys = []\n        this.selectedNames = []\n        this.tableData = res.items;\n        // 排序 目录 > 名字\n        this.tableData.sort((a,b) =>{\n          if ( !a.isDir && b.isDir){\n            return 1\n          }else if (a.isDir == b.isDir){\n            return a.filename > b.filename ? 1 : -1\n          }\n          return -1\n        })\n       //console.log(res);\n      })\n    },\n    goback(){\n      if (this.navs.length > 1) {\n        this.navs.pop()\n        const path = this.navs.join(\"/\")\n        this.getList(path)\n      }\n    },\n    gonext(dir){\n      if (dir !== \"\"){\n        this.navs.push(dir)\n        const path = this.navs.join(\"/\")\n        this.getList(path)\n      }\n    },\n    goto(index){\n      if (index >= 0 && index < this.navs.length ){\n        this.navs.splice(index+1)\n        const path = this.navs.join(\"/\")\n        this.getList(path)\n      }\n    },\n    showDeadline(){\n      let start = moment.unix(this.sharedInfo.createTime)\n      let end = moment.unix(this.sharedInfo.deadline)\n      return end.to(start,true)\n    },\n    showCreateTime(){\n      return moment.unix(this.sharedInfo.createTime).format('YYYY-MM-DD HH:mm:ss')\n    },\n    handleSharedInfo(){\n      const args = {key:this.sharedKey,sharedToken:this.sharedModalValue}\n      sharedInfo(args)\n      .then((ret) => {\n        //console.log(ret);\n        this.sharedModalToken = false\n        this.sharedToken = args.sharedToken\n        storage.set(this.sharedKey,this.sharedToken,12 * 60 *60 * 1000)\n        this.sharedInfo = ret\n        this.tableData = ret.items\n        this.navs.push(ret.root)\n        this.sharedChecked = true\n      })\n      .catch((err)=>{\n        this.sharedTokenCheckFailed = true\n        this.sharedTokenCheckText = err.data.message\n      })\n    },\n    showDownload(){\n      if (this.selectedRowKeys.length > 0){\n        for (var idx of this.selectedRowKeys){\n          if (this.tableData[idx].isDir){\n            return false\n          }\n        }\n        return true\n      }\n      return false\n    },\n    handleDownload(){\n      if (this.showDownload()){\n        for (var idx in this.selectedNames){\n          const filename = this.selectedNames[idx]\n          const args = {key:this.sharedKey,sharedToken:this.sharedToken,path:this.navs.join(\"/\"),filename:filename}\n          sharedDownload(args).then(res =>{\n            //console.log(res);\n            const blob = new Blob([res.data]);\n\n            var downloadElement = document.createElement(\"a\");\n            var href = window.URL.createObjectURL(blob);\n            downloadElement.href = href;\n            downloadElement.download = decodeURIComponent(filename);\n            document.body.appendChild(downloadElement);\n            downloadElement.click();\n            document.body.removeChild(downloadElement);\n            window.URL.revokeObjectURL(href); \n          })\n        }\n      }\n    },\n  },\n}\n</script>\n<style>\n.body{\n  padding:10px 30px;\n}\n#header{\n  height:86px;\n  margin-bottom:10px;\n  border-bottom: 1px solid #F0F0F0;\n}\n\n#header-title{\n  height:60px;\n  line-height:60px;\n}\n\n.path{\n  margin-bottom:10px;\n}\n\n/* 滚动条宽度 */\n::-webkit-scrollbar {\n width: 7px;\n height: 10px;\n}\n/* 滚动条的滑块 */\n::-webkit-scrollbar-thumb {\n background-color: #a1a3a9;\n border-radius: 3px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileShared.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileShared.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileShared.vue?vue&type=template&id=3fb369b8&\"\nimport script from \"./FileShared.vue?vue&type=script&lang=js&\"\nexport * from \"./FileShared.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileShared.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/logo.8dafbfe5.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileShared.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}