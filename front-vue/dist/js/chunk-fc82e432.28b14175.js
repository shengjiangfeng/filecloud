(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc82e432"],{"010c":function(e,t,a){"use strict";a("c253")},"25f0":function(e,t,a){"use strict";var n=a("e330"),i=a("5e77").PROPER,r=a("6eeb"),s=a("825a"),o=a("3a9b"),l=a("577e"),c=a("d039"),d=a("ad6d"),h="toString",u=RegExp.prototype,f=u[h],p=n(d),v=c((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),m=i&&f.name!=h;(v||m)&&r(RegExp.prototype,h,(function(){var e=s(this),t=l(e.source),a=e.flags,n=l(void 0===a&&o(u,e)&&!("flags"in u)?p(e):a);return"/"+t+"/"+n}),{unsafe:!0})},"69a0":function(e,t,a){(function(t){e.exports=t()})((function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function a(e,t){var a=e[0],n=e[1],i=e[2],r=e[3];a+=(n&i|~n&r)+t[0]-680876936|0,a=(a<<7|a>>>25)+n|0,r+=(a&n|~a&i)+t[1]-389564586|0,r=(r<<12|r>>>20)+a|0,i+=(r&a|~r&n)+t[2]+606105819|0,i=(i<<17|i>>>15)+r|0,n+=(i&r|~i&a)+t[3]-1044525330|0,n=(n<<22|n>>>10)+i|0,a+=(n&i|~n&r)+t[4]-176418897|0,a=(a<<7|a>>>25)+n|0,r+=(a&n|~a&i)+t[5]+1200080426|0,r=(r<<12|r>>>20)+a|0,i+=(r&a|~r&n)+t[6]-1473231341|0,i=(i<<17|i>>>15)+r|0,n+=(i&r|~i&a)+t[7]-45705983|0,n=(n<<22|n>>>10)+i|0,a+=(n&i|~n&r)+t[8]+1770035416|0,a=(a<<7|a>>>25)+n|0,r+=(a&n|~a&i)+t[9]-1958414417|0,r=(r<<12|r>>>20)+a|0,i+=(r&a|~r&n)+t[10]-42063|0,i=(i<<17|i>>>15)+r|0,n+=(i&r|~i&a)+t[11]-1990404162|0,n=(n<<22|n>>>10)+i|0,a+=(n&i|~n&r)+t[12]+1804603682|0,a=(a<<7|a>>>25)+n|0,r+=(a&n|~a&i)+t[13]-40341101|0,r=(r<<12|r>>>20)+a|0,i+=(r&a|~r&n)+t[14]-1502002290|0,i=(i<<17|i>>>15)+r|0,n+=(i&r|~i&a)+t[15]+1236535329|0,n=(n<<22|n>>>10)+i|0,a+=(n&r|i&~r)+t[1]-165796510|0,a=(a<<5|a>>>27)+n|0,r+=(a&i|n&~i)+t[6]-1069501632|0,r=(r<<9|r>>>23)+a|0,i+=(r&n|a&~n)+t[11]+643717713|0,i=(i<<14|i>>>18)+r|0,n+=(i&a|r&~a)+t[0]-373897302|0,n=(n<<20|n>>>12)+i|0,a+=(n&r|i&~r)+t[5]-701558691|0,a=(a<<5|a>>>27)+n|0,r+=(a&i|n&~i)+t[10]+38016083|0,r=(r<<9|r>>>23)+a|0,i+=(r&n|a&~n)+t[15]-660478335|0,i=(i<<14|i>>>18)+r|0,n+=(i&a|r&~a)+t[4]-405537848|0,n=(n<<20|n>>>12)+i|0,a+=(n&r|i&~r)+t[9]+568446438|0,a=(a<<5|a>>>27)+n|0,r+=(a&i|n&~i)+t[14]-1019803690|0,r=(r<<9|r>>>23)+a|0,i+=(r&n|a&~n)+t[3]-187363961|0,i=(i<<14|i>>>18)+r|0,n+=(i&a|r&~a)+t[8]+1163531501|0,n=(n<<20|n>>>12)+i|0,a+=(n&r|i&~r)+t[13]-1444681467|0,a=(a<<5|a>>>27)+n|0,r+=(a&i|n&~i)+t[2]-51403784|0,r=(r<<9|r>>>23)+a|0,i+=(r&n|a&~n)+t[7]+1735328473|0,i=(i<<14|i>>>18)+r|0,n+=(i&a|r&~a)+t[12]-1926607734|0,n=(n<<20|n>>>12)+i|0,a+=(n^i^r)+t[5]-378558|0,a=(a<<4|a>>>28)+n|0,r+=(a^n^i)+t[8]-2022574463|0,r=(r<<11|r>>>21)+a|0,i+=(r^a^n)+t[11]+1839030562|0,i=(i<<16|i>>>16)+r|0,n+=(i^r^a)+t[14]-35309556|0,n=(n<<23|n>>>9)+i|0,a+=(n^i^r)+t[1]-1530992060|0,a=(a<<4|a>>>28)+n|0,r+=(a^n^i)+t[4]+1272893353|0,r=(r<<11|r>>>21)+a|0,i+=(r^a^n)+t[7]-155497632|0,i=(i<<16|i>>>16)+r|0,n+=(i^r^a)+t[10]-1094730640|0,n=(n<<23|n>>>9)+i|0,a+=(n^i^r)+t[13]+681279174|0,a=(a<<4|a>>>28)+n|0,r+=(a^n^i)+t[0]-358537222|0,r=(r<<11|r>>>21)+a|0,i+=(r^a^n)+t[3]-722521979|0,i=(i<<16|i>>>16)+r|0,n+=(i^r^a)+t[6]+76029189|0,n=(n<<23|n>>>9)+i|0,a+=(n^i^r)+t[9]-640364487|0,a=(a<<4|a>>>28)+n|0,r+=(a^n^i)+t[12]-421815835|0,r=(r<<11|r>>>21)+a|0,i+=(r^a^n)+t[15]+530742520|0,i=(i<<16|i>>>16)+r|0,n+=(i^r^a)+t[2]-995338651|0,n=(n<<23|n>>>9)+i|0,a+=(i^(n|~r))+t[0]-198630844|0,a=(a<<6|a>>>26)+n|0,r+=(n^(a|~i))+t[7]+1126891415|0,r=(r<<10|r>>>22)+a|0,i+=(a^(r|~n))+t[14]-1416354905|0,i=(i<<15|i>>>17)+r|0,n+=(r^(i|~a))+t[5]-57434055|0,n=(n<<21|n>>>11)+i|0,a+=(i^(n|~r))+t[12]+1700485571|0,a=(a<<6|a>>>26)+n|0,r+=(n^(a|~i))+t[3]-1894986606|0,r=(r<<10|r>>>22)+a|0,i+=(a^(r|~n))+t[10]-1051523|0,i=(i<<15|i>>>17)+r|0,n+=(r^(i|~a))+t[1]-2054922799|0,n=(n<<21|n>>>11)+i|0,a+=(i^(n|~r))+t[8]+1873313359|0,a=(a<<6|a>>>26)+n|0,r+=(n^(a|~i))+t[15]-30611744|0,r=(r<<10|r>>>22)+a|0,i+=(a^(r|~n))+t[6]-1560198380|0,i=(i<<15|i>>>17)+r|0,n+=(r^(i|~a))+t[13]+1309151649|0,n=(n<<21|n>>>11)+i|0,a+=(i^(n|~r))+t[4]-145523070|0,a=(a<<6|a>>>26)+n|0,r+=(n^(a|~i))+t[11]-1120210379|0,r=(r<<10|r>>>22)+a|0,i+=(a^(r|~n))+t[2]+718787259|0,i=(i<<15|i>>>17)+r|0,n+=(r^(i|~a))+t[9]-343485551|0,n=(n<<21|n>>>11)+i|0,e[0]=a+e[0]|0,e[1]=n+e[1]|0,e[2]=i+e[2]|0,e[3]=r+e[3]|0}function n(e){var t,a=[];for(t=0;t<64;t+=4)a[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return a}function i(e){var t,a=[];for(t=0;t<64;t+=4)a[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return a}function r(e){var t,i,r,s,o,l,c=e.length,d=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)a(d,n(e.substring(t-64,t)));for(e=e.substring(t-64),i=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(a(d,r),t=0;t<16;t+=1)r[t]=0;return s=8*c,s=s.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(s[2],16),l=parseInt(s[1],16)||0,r[14]=o,r[15]=l,a(d,r),d}function s(e){var t,n,r,s,o,l,c=e.length,d=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)a(d,i(e.subarray(t-64,t)));for(e=t-64<c?e.subarray(t-64):new Uint8Array(0),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(a(d,r),t=0;t<16;t+=1)r[t]=0;return s=8*c,s=s.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(s[2],16),l=parseInt(s[1],16)||0,r[14]=o,r[15]=l,a(d,r),d}function o(e){var a,n="";for(a=0;a<4;a+=1)n+=t[e>>8*a+4&15]+t[e>>8*a&15];return n}function l(e){var t;for(t=0;t<e.length;t+=1)e[t]=o(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function d(e,t){var a,n=e.length,i=new ArrayBuffer(n),r=new Uint8Array(i);for(a=0;a<n;a+=1)r[a]=e.charCodeAt(a);return t?r:i}function h(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function u(e,t,a){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e)),n.set(new Uint8Array(t),e.byteLength),a?n:n.buffer}function f(e){var t,a=[],n=e.length;for(t=0;t<n-1;t+=2)a.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,a)}function p(){this.reset()}return"5d41402abc4b2a76b9719d911017c592"!==l(r("hello"))&&function(e,t){var a=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(a>>16);return n<<16|65535&a},"undefined"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(a,n){var i,r,s,o,l=this.byteLength,c=t(a,l),d=l;return n!==e&&(d=t(n,l)),c>d?new ArrayBuffer(0):(i=d-c,r=new ArrayBuffer(i),s=new Uint8Array(r),o=new Uint8Array(this,c,i),s.set(o),r)}}(),p.prototype.append=function(e){return this.appendBinary(c(e)),this},p.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)a(this._hash,n(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},p.prototype.end=function(e){var t,a,n=this._buff,i=n.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)r[t>>2]|=n.charCodeAt(t)<<(t%4<<3);return this._finish(r,i),a=l(this._hash),e&&(a=f(a)),this.reset(),a},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},p.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(e,t){var n,i,r,s=t;if(e[s>>2]|=128<<(s%4<<3),s>55)for(a(this._hash,e),s=0;s<16;s+=1)e[s]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(n[2],16),r=parseInt(n[1],16)||0,e[14]=i,e[15]=r,a(this._hash,e)},p.hash=function(e,t){return p.hashBinary(c(e),t)},p.hashBinary=function(e,t){var a=r(e),n=l(a);return t?f(n):n},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(e){var t,n=u(this._buff.buffer,e,!0),r=n.length;for(this._length+=e.byteLength,t=64;t<=r;t+=64)a(this._hash,i(n.subarray(t-64,t)));return this._buff=t-64<r?new Uint8Array(n.buffer.slice(t-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(e){var t,a,n=this._buff,i=n.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)r[t>>2]|=n[t]<<(t%4<<3);return this._finish(r,i),a=l(this._hash),e&&(a=f(a)),this.reset(),a},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var e=p.prototype.getState.call(this);return e.buff=h(e.buff),e},p.ArrayBuffer.prototype.setState=function(e){return e.buff=d(e.buff,!0),p.prototype.setState.call(this,e)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(e,t){var a=s(new Uint8Array(e)),n=l(a);return t?f(n):n},p}))},"99af":function(e,t,a){"use strict";var n=a("23e7"),i=a("da84"),r=a("d039"),s=a("e8b5"),o=a("861d"),l=a("7b0b"),c=a("07fa"),d=a("8418"),h=a("65f0"),u=a("1dde"),f=a("b622"),p=a("2d00"),v=f("isConcatSpreadable"),m=9007199254740991,y="Maximum allowed index exceeded",b=i.TypeError,g=p>=51||!r((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),w=u("concat"),_=function(e){if(!o(e))return!1;var t=e[v];return void 0!==t?!!t:s(e)},k=!g||!w;n({target:"Array",proto:!0,forced:k},{concat:function(e){var t,a,n,i,r,s=l(this),o=h(s,0),u=0;for(t=-1,n=arguments.length;t<n;t++)if(r=-1===t?s:arguments[t],_(r)){if(i=c(r),u+i>m)throw b(y);for(a=0;a<i;a++,u++)a in r&&d(o,u,r[a])}else{if(u>=m)throw b(y);d(o,u++,r)}return o.length=u,o}})},c253:function(e,t,a){},d6dd:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"body"},[n("div",{attrs:{id:"header"}},[n("a-row",{attrs:{justify:"space-between",type:"flex"}},[n("a-col",[0===this.selectedNames.length?[n("a-upload",{ref:"upload",attrs:{multiple:"",directory:t.uploadDirectory,openFileDialogOnClick:t.uploadFileOpen,showUploadList:!1,beforeUpload:t.handleBeforeUpload},on:{change:t.handleChange}},[n("a-dropdown",[n("a-button",{attrs:{type:"primary",shape:"round",icon:"upload"}},[t._v("上传")]),n("a-menu",{attrs:{slot:"overlay"},on:{click:t.handleUploadType},slot:"overlay"},[n("a-menu-item",{key:"file"},[n("a-icon",{attrs:{type:"upload"}}),t._v(" 上传文件 ")],1),n("a-menu-item",{key:"folder"},[n("a-icon",{attrs:{type:"folder"}}),t._v(" 上传文件夹 ")],1)],1)],1)],1),t._v("  "),n("a-button-group",[n("a-button",{attrs:{icon:"folder-add"},on:{click:t.openAddFolder}},[t._v("新建文件夹")]),n("a-button",{attrs:{icon:"download"},on:{click:function(){t.$message.info("功能未实现")}}},[t._v("离线下载")]),n("a-button",{attrs:{icon:"sync"},on:{click:function(){e.goto(e.navs.length-1)}}},[t._v("刷新")])],1)]:[n("a-button-group",[n("a-button",{attrs:{icon:"share-alt"},on:{click:t.openShareModal}},[t._v("分享")]),n("a-button",{directives:[{name:"show",rawName:"v-show",value:this.showDownload(),expression:"this.showDownload()"}],attrs:{icon:"download"},on:{click:t.handleDownload}},[t._v("下载")]),n("a-button",{attrs:{icon:"delete"},on:{click:t.openRemoveModal}},[t._v("删除")]),n("a-button",{directives:[{name:"show",rawName:"v-show",value:1===this.selectedNames.length,expression:"this.selectedNames.length === 1"}],attrs:{icon:"form"},on:{click:t.openRename}},[t._v("重命名")]),n("a-button",{attrs:{icon:"copy"},on:{click:function(e){return t.openMvcpModal(!1)}}},[t._v("复制")]),n("a-button",{attrs:{icon:"drag"},on:{click:function(e){return t.openMvcpModal(!0)}}},[t._v("移动")])],1)]],2),n("a-col",{staticStyle:{width:"300px","margin-right":"100px"}},[n("a-row",[n("a-col",{attrs:{span:10}},[t._v(" "+t._s(t.resData.diskUsedStr)+" / "+t._s(t.resData.diskTotalStr)+" ")]),n("a-col",{attrs:{span:13}},[t.resData.diskUsed<t.resData.diskTotal?n("a-progress",{attrs:{"stroke-color":t.progressColor(t.resData.diskUsed/t.resData.diskTotal*100),percent:parseFloat((t.resData.diskUsed/t.resData.diskTotal*100).toFixed(1))}}):n("a-progress",{attrs:{percent:100,"stroke-color":"red","show-info":!1}})],1)],1)],1)],1)],1),n("div",{staticClass:"path"},[1===t.navs.length?[t._v(" 全部文件 ")]:[n("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.goback()}}},[t._v("返回上一级")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.goto(0)}}},[t._v("全部文件")]),t._l(t.navs,(function(e,a){return[0!==a?[a===t.navs.length-1?[t._v("  >  "+t._s(e)+" ")]:[t._v("  >  "),n("a",{key:a,attrs:{href:"javascript:;"},on:{click:function(e){return t.goto(a)}}},[t._v(t._s(e))])]]:t._e()]}))]],2),n("a-table",{attrs:{columns:t.columns,"data-source":t.resData.items,pagination:!1,rowKey:function(e,t){return t},"row-selection":{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange}},scopedSlots:t._u([{key:"name",fn:function(e,a,i){return[a.isDir?n("a-icon",{attrs:{type:"folder"}}):n("a-icon",{attrs:{type:"file"}}),t._v("    "),t.addFolder&&0===i?[n("a-input",{ref:"addFolderInputRef",staticStyle:{width:"50%"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleAddFolderOK.apply(null,arguments)}},model:{value:t.addFolderName,callback:function(e){t.addFolderName=e},expression:"addFolderName"}}),t._v("  "),n("a-button",{attrs:{icon:"check",type:"primary",size:"small"},on:{click:t.handleAddFolderOK}}),t._v("  "),n("a-button",{attrs:{icon:"close",type:"primary",size:"small"},on:{click:t.handleAddFolderCancle}})]:t.renameIndex===i?[n("a-input",{ref:"renameInputRef",staticStyle:{width:"50%"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleRenameOK.apply(null,arguments)}},model:{value:t.renameValue,callback:function(e){t.renameValue=e},expression:"renameValue"}}),t._v("  "),n("a-button",{attrs:{icon:"check",type:"primary",size:"small"},on:{click:t.handleRenameOK}}),t._v("  "),n("a-button",{attrs:{icon:"close",type:"primary",size:"small"},on:{click:t.handleRenameCancle}})]:[a.isDir?n("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.gonext(e)}}},[t._v(t._s(e))]):n("span",[t._v(t._s(e))])]]}}])}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showTransfer,expression:"showTransfer"}],attrs:{id:"upload_div"}},[n("div",{staticStyle:{height:"48px","border-bottom":"2px solid #f6f6f6"}},[n("a-row",{staticStyle:{"line-height":"40px"},attrs:{justify:"space-between",type:"flex"}},[n("a-col",{staticStyle:{"font-size":"16px"}},[t._v("上传列表 ( "+t._s(this.uploadFinallyCount())+" / "+t._s(Object.keys(this.uploadList).length)+" )")]),n("a-col",{staticStyle:{"margin-right":"16px"}},[this.showTransferUploadList?n("a-icon",{attrs:{type:"minus"},on:{click:function(){e.showTransferUploadList=!1}}}):n("a-icon",{attrs:{type:"border"},on:{click:function(){e.showTransferUploadList=!0}}}),t._v("   "),n("a-icon",{attrs:{type:"close"},on:{click:function(){e.showTransfer=!1}}})],1)],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showTransferUploadList,expression:"showTransferUploadList"}],staticStyle:{height:"300px","overflow-y":"auto","margin-top":"5px"}},[t._l(this.uploadList,(function(e){return[n("a-row",{key:e.key,staticClass:"upload_div_row"},[n("a-col",{staticStyle:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},attrs:{span:6}},[t._v(t._s(e.filename))]),n("a-col",{attrs:{span:17}},[e.upSize<e.total?n("a-progress",{attrs:{percent:e.upSize/e.total*100,status:"active"}}):n("a-progress",{attrs:{percent:e.upSize/e.total*100,status:"success"}})],1)],1)]}))],2)]),n("a-modal",{attrs:{title:t.dirModalTitle,width:"700px",centered:"","ok-text":t.dirModalOkText,"cancel-text":"取消"},on:{ok:t.handleMvcp},model:{value:t.dirModalVisible,callback:function(e){t.dirModalVisible=e},expression:"dirModalVisible"}},[n("div",{staticClass:"path"},[1===t.dirModalNavs.length?[t._v(" 全部文件 ")]:[n("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.mvcpGoback()}}},[t._v("返回上一级")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.mvcpGoto(0)}}},[t._v("全部文件")]),t._l(t.dirModalNavs,(function(e,a){return[0!==a?[a===t.dirModalNavs.length-1?[t._v("  >  "+t._s(e)+" ")]:[t._v("  >  "),n("a",{key:a,attrs:{href:"javascript:;"},on:{click:function(e){return t.mvcpGoto(a)}}},[t._v(t._s(e))])]]:t._e()]}))]],2),n("div",{staticStyle:{height:"300px","overflow-y":"auto"}},[n("a-table",{attrs:{columns:t.dirModalColumns,"data-source":t.dirModalData,pagination:!1,showHeader:!1,rowKey:function(e,t){return t}},scopedSlots:t._u([{key:"name",fn:function(e){return[n("a-icon",{attrs:{type:"folder"}}),t._v("    "),n("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.mvcpGonext(e)}}},[t._v(t._s(e))])]}}])})],1)]),n("a-modal",{attrs:{title:"确认删除",width:"450px",centered:"",footer:""},model:{value:t.removeModalVisible,callback:function(e){t.removeModalVisible=e},expression:"removeModalVisible"}},[n("p",{staticStyle:{"text-align":"center"}},[n("a-icon",{staticStyle:{"font-size":"46px"},attrs:{type:"exclamation-circle",theme:"twoTone"}})],1),n("p",{staticStyle:{"text-align":"center"}},[t._v("确定删除所选文件吗？")]),n("p",{staticStyle:{"text-align":"center"}},[n("a-button",{attrs:{shape:"round"},on:{click:function(){e.removeModalVisible=!1}}},[t._v("取消")]),t._v("  "),n("a-button",{attrs:{type:"primary",shape:"round"},on:{click:t.handleRemove}},[t._v("删除")])],1)]),n("a-modal",{attrs:{title:t.shareTitle,width:"500px",centered:"",footer:""},model:{value:t.shareModalVisible,callback:function(e){t.shareModalVisible=e},expression:"shareModalVisible"}},[n("div",{staticStyle:{height:"180px"}},[t.shareCreate?[n("br"),n("a-row",[n("a-col",{staticStyle:{height:"54px","line-height":"40px"},attrs:{span:4}},[t._v("有效期：")]),n("a-col",{attrs:{span:18}},[n("a-slider",{attrs:{marks:{1:"1天",7:"7天",30:"30天"},min:1,max:30},model:{value:t.shareTime,callback:function(e){t.shareTime=e},expression:"shareTime"}})],1)],1),n("br"),n("br"),n("p",{staticStyle:{"text-align":"center"}},[n("a-button",{attrs:{type:"primary",shape:"round"},on:{click:t.handleShareCreate}},[t._v("创建链接")])],1)]:[n("p",{staticStyle:{"text-align":"center"}},[n("a-input",{staticStyle:{width:"300px"},attrs:{disabled:""},model:{value:t.sharedRoute,callback:function(e){t.sharedRoute=e},expression:"sharedRoute"}})],1),n("p",{staticStyle:{"text-align":"center"}},[t._v("提取码 "),n("a-input",{staticStyle:{width:"60px"},attrs:{disabled:""},model:{value:t.sharedToken,callback:function(e){t.sharedToken=e},expression:"sharedToken"}})],1),n("br"),n("p",{staticStyle:{"text-align":"center"}},[n("a-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.sharedCopyText,expression:"sharedCopyText",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:function(){e.sharedCopied=!0},expression:"()=>{this.sharedCopied = true}",arg:"success"}],attrs:{type:"primary",shape:"round"}},[t._v("复制链接及提取码")])],1),n("p",{directives:[{name:"show",rawName:"v-show",value:this.sharedCopied,expression:"this.sharedCopied"}],staticStyle:{"text-align":"center",color:"#66B3FF"}},[t._v("复制链接成功")])]],2)])],1)},i=[],r=a("6b75");function s(e){if(Array.isArray(e))return Object(r["a"])(e)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function o(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var l=a("06c5");a("d9e2");function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e){return s(e)||o(e)||Object(l["a"])(e)||c()}var h=a("b85c"),u=(a("4e82"),a("a15b"),a("a434"),a("99af"),a("fb6a"),a("b0c0"),a("25f0"),a("2b3d"),a("9861"),a("4ec3")),f=a("69a0"),p=a.n(f),v={name:"filecloud",data:function(){return{columns:[{title:"文件名",dataIndex:"filename",width:"60%",scopedSlots:{customRender:"name"}},{title:"大小",dataIndex:"size"},{title:"修改时间",dataIndex:"date"}],selectedRowKeys:[],selectedNames:[],root:"cloud",navs:[],resData:{},removeModalVisible:!1,addFolder:!1,addFolderName:"",uploadDirectory:!1,uploadFileOpen:!1,renameIndex:-1,renameValue:"",dirModalVisible:!1,dirModalTitle:"",dirModalOkText:"",dirModalNavs:[],dirModalColumns:[{title:"文件名",dataIndex:"filename",scopedSlots:{customRender:"name"}}],dirModalData:[],mvcpMove:!1,mvcpSource:[],mvcpTarget:"",showTransfer:!1,showTransferUploadList:!0,uploadList:{},shareModalVisible:!1,shareTitle:"",shareCreate:!0,shareTime:1,sharedRoute:"",sharedToken:"",sharedDeadline:0,sharedCopyText:"",sharedCopied:!1}},mounted:function(){this.navs.push(this.root),this.goto(0)},methods:{onSelectChange:function(e,t){this.selectedRowKeys=e;var a,n=[],i=Object(h["a"])(t);try{for(i.s();!(a=i.n()).done;){var r=a.value;n.push(r.filename)}}catch(s){i.e(s)}finally{i.f()}this.selectedNames=n},getList:function(e){var t=this;Object(u["c"])({path:e}).then((function(e){t.addFolder=!1,t.addFolderName="",t.selectedRowKeys=[],t.selectedNames=[],t.resData=e,t.resData.items.sort((function(e,t){return!e.isDir&&t.isDir||e.isDir==t.isDir&&e.filename>t.filename?1:-1}))}))},goback:function(){if(this.navs.length>1){this.navs.pop();var e=this.navs.join("/");this.getList(e)}},gonext:function(e){if(""!==e){this.navs.push(e);var t=this.navs.join("/");this.getList(t)}},goto:function(e){if(e>=0&&e<this.navs.length){this.navs.splice(e+1);var t=this.navs.join("/");this.getList(t)}},progressColor:function(e){return e>=80?"red":e>=50?"#EAC100":void 0},openAddFolder:function(){var e=this;if(!this.addFolder){var t={filename:"",isDir:!0,date:"",size:"-"};this.addFolder=!0,this.addFolderName="",this.resData.items=[t].concat(d(this.resData.items)),this.$nextTick((function(){e.$refs.addFolderInputRef.focus()}))}},handleAddFolderOK:function(){var e=this;if(this.addFolder&&""!=this.addFolderName){var t=this.navs.join("/")+"/"+this.addFolderName,a={path:t};Object(u["e"])(a).then((function(){var t=e.navs.join("/");e.getList(t)}))}},handleAddFolderCancle:function(){this.addFolder&&(this.addFolder=!1,this.addFolderName="",this.resData.items=this.resData.items.slice(1))},handleUploadType:function(e){var t=this;"folder"===e.key?this.uploadDirectory=!0:this.uploadDirectory=!1,this.uploadFileOpen=!0,this.$nextTick((function(){t.$refs.upload.$refs.uploadRef.$el.firstChild.click(),t.uploadFileOpen=!1}))},handleBeforeUpload:function(e){var t=this,a=e.name,n=this.navs.join("/");if(""!==e.webkitRelativePath){var i=e.webkitRelativePath.lastIndexOf("/");i>0&&(n+="/"+e.webkitRelativePath.slice(0,i))}var r=4194304,s=e.size,o=Math.ceil(s/r);return this.getFileMd5(e,(function(i){var l={path:n,filename:a,md5:i,size:s,sliceTotal:o,sliceSize:r};Object(u["l"])(l).then((function(l){if(t.showTransfer=!0,t.showTransferUploadList=!0,t.uploadList[i]={key:i,filename:a,total:s,upSize:0},l.need)for(var c=l.token,d=0;d<o;d++){var h=d.toString();null!==l.existSlice&&h in l.existSlice?t.updateProgress(i,r):function(){var s=r*d,o=s+r>e.size?e.size:s+r,l=e.slice(s,o),f=new FormData;f.append("path",n),f.append("file",l),f.append("filename",a),f.append("current",h),f.append("token",c),Object(u["m"])(f).then((function(){t.updateProgress(i,o-s)}))}()}else t.updateProgress(i,s)}))})),!1},getFileMd5:function(e,t){var a=new p.a,n=new FileReader;n.readAsBinaryString(e),n.onload=function(e){a.appendBinary(e.target.result),t(a.end())}},updateProgress:function(e,t){var a=this.uploadList[e];a.upSize+=t,a&&a.upSize>=a.total&&this.getList(this.navs.join("/")),this.$forceUpdate()},uploadFinallyCount:function(){var e=0;for(var t in this.uploadList)this.uploadList[t].upSize>=this.uploadList[t].total&&e++;return e},handleChange:function(e){console.log(e);var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?this.$message.success("".concat(e.file.name," file uploaded successfully.")):"error"===t&&this.$message.error("".concat(e.file.name," file upload failed."))},openRemoveModal:function(){this.removeModalVisible=!0},handleRemove:function(){var e=this,t=this.navs.join("/");Object(u["b"])({path:t,filename:this.selectedNames}).then((function(){e.getList(t)})).finally((function(){e.removeModalVisible=!1}))},openRename:function(){var e=this;1===this.selectedRowKeys.length&&(this.addFolder&&(this.handleAddFolderCancle(),this.selectedRowKeys=[this.selectedRowKeys[0]-1]),this.renameIndex=this.selectedRowKeys[0],this.renameValue=this.selectedNames[0],this.$nextTick((function(){e.$refs.renameInputRef.focus()})))},handleRenameOK:function(){var e=this,t=this.navs.join("/");Object(u["g"])({path:t,oldName:this.selectedNames[0],newName:this.renameValue}).then((function(){e.getList(t)})).finally((function(){e.handleRenameCancle()}))},handleRenameCancle:function(){this.renameIndex=-1},openMvcpModal:function(e){if(0!=this.selectedNames.length){e?(this.mvcpMove=!0,this.dirModalTitle="移动到",this.dirModalOkText="移动到此"):(this.mvcpMove=!1,this.dirModalTitle="复制到",this.dirModalOkText="复制到此"),this.mvcpSource=[];var t,a=this.navs.join("/"),n=Object(h["a"])(this.selectedNames);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.mvcpSource.push(a+"/"+i)}}catch(r){n.e(r)}finally{n.f()}this.dirModalNavs=[this.root],this.mvcpGetList(this.dirModalNavs.join("/")),this.dirModalVisible=!0}},mvcpGetList:function(e){var t=this;Object(u["c"])({path:e}).then((function(e){t.dirModalData=[];var a,n=Object(h["a"])(e.items);try{for(n.s();!(a=n.n()).done;){var i=a.value;i.isDir&&t.dirModalData.push(i)}}catch(r){n.e(r)}finally{n.f()}t.dirModalData.sort((function(e,t){return!e.isDir&&t.isDir?1:e.isDir==t.isDir?e.filename-t.filename:-1}))}))},mvcpGoto:function(e){if(e>=0&&e<this.dirModalNavs.length){this.dirModalNavs.splice(e+1);var t=this.dirModalNavs.join("/");this.mvcpGetList(t)}},mvcpGoback:function(){if(this.dirModalNavs.length>1){this.dirModalNavs.pop();var e=this.dirModalNavs.join("/");this.mvcpGetList(e)}},mvcpGonext:function(e){if(""!==e){this.dirModalNavs.push(e);var t=this.dirModalNavs.join("/");this.mvcpGetList(t)}},handleMvcp:function(){var e=this,t={move:this.mvcpMove,source:this.mvcpSource,target:this.dirModalNavs.join("/")};Object(u["f"])(t).then((function(){e.getList(e.navs.join("/"))})).finally((function(){e.dirModalVisible=!1}))},showDownload:function(){if(this.selectedRowKeys.length>0){var e,t=Object(h["a"])(this.selectedRowKeys);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(this.resData.items[a].isDir)return!1}}catch(n){t.e(n)}finally{t.f()}return!0}return!1},handleDownload:function(){var e=this;if(this.showDownload()){var t=function(){var t=e.selectedNames[a],n={path:e.navs.join("/"),filename:t};Object(u["a"])(n).then((function(e){var a=new Blob([e.data]),n=document.createElement("a"),i=window.URL.createObjectURL(a);n.href=i,n.download=decodeURIComponent(t),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}))};for(var a in this.selectedNames)t()}},openShareModal:function(){0!==this.selectedNames.length&&(this.shareModalVisible=!0,this.shareCreate=!0,this.shareTime=7,this.shareTitle="分享文件(夹):",this.sharedCopied=!1,1===this.selectedNames.length?this.shareTitle+=this.selectedNames[0]:this.shareTitle+=this.selectedNames[0]+"等")},handleShareCreate:function(){var e=this,t={path:this.navs.join("/"),filename:this.selectedNames,deadline:this.shareTime};Object(u["h"])(t).then((function(t){e.shareCreate=!1,e.sharedRoute=t.route,e.sharedToken=t.sharedToken,e.sharedDeadline=t.deadline,e.sharedCopyText="链接："+e.sharedRoute+"  提取码："+e.sharedToken}))}}},m=v,y=(a("010c"),a("2877")),b=Object(y["a"])(m,n,i,!1,null,null,null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-fc82e432.28b14175.js.map